From fab727109633c807f983d11ac765ee2ee8af6073 Mon Sep 17 00:00:00 2001
From: fairbird <rrrr53@hotmail.com>
Date: Mon, 7 Mar 2022 14:21:19 +0300
Subject: add support to new date/time feature

---
 usr/share/enigma2/PLi-FullHD/skin.xml                | 4 ++++
 usr/share/enigma2/PLi-FullHD/skin_templates.xml      | 6 ++++--
 usr/share/enigma2/PLi-FullNightHD/skin.xml           | 4 ++++
 usr/share/enigma2/PLi-FullNightHD/skin_templates.xml | 6 ++++--
 usr/share/enigma2/PLi-HD/skin.xml                    | 4 ++++
 usr/share/enigma2/PLi-HD/skin_templates.xml          | 6 ++++--
 usr/share/enigma2/PLi-HD1/skin.xml                   | 4 ++++
 usr/share/enigma2/PLi-HD1/skin_templates.xml         | 6 ++++--
 usr/share/enigma2/PLi-HD2/skin.xml                   | 4 ++++
 usr/share/enigma2/PLi-HD2/skin_templates.xml         | 6 ++++--
 10 files changed, 40 insertions(+), 10 deletions(-)

diff --git a/usr/share/enigma2/PLi-FullHD/skin.xml b/usr/share/enigma2/PLi-FullHD/skin.xml
index e1d6c6d..1017961 100644
--- a/usr/share/enigma2/PLi-FullHD/skin.xml
+++ b/usr/share/enigma2/PLi-FullHD/skin.xml
@@ -96,6 +96,10 @@
 	</colors>
 
 	<parameters>
+    		<!-- Allow User Dates And Times -->
+    		<parameter name="AllowUserDatesAndTimes" value="1,1"/>
+    		<!-- Allow User Dates And Times Display -->
+    		<parameter name="AllowUserDatesAndTimesDisplay" value="1,1"/>
 		<parameter name="ConfigListSlider" value="22,0"/>
 		<parameter name="ChoicelistName" value="68,3,1000,31"/>
 		<parameter name="ExpandableListIcon" value="0,0,55,38"/>
diff --git a/usr/share/enigma2/PLi-FullHD/skin_templates.xml b/usr/share/enigma2/PLi-FullHD/skin_templates.xml
index 690cafa..a719d0e 100644
--- a/usr/share/enigma2/PLi-FullHD/skin_templates.xml
+++ b/usr/share/enigma2/PLi-FullHD/skin_templates.xml
@@ -25,7 +25,8 @@
 			<convert type="ConditionalShowHide"/>
 		</widget>
 		<widget source="global.CurrentTime" render="Label" position="1478,10" size="100,30" backgroundColor="transparent" noWrap="1" zPosition="1" foregroundColor="foreground" borderWidth="2" font="Regular;25" borderColor="black" valign="center" halign="right">
-			<convert type="ClockToText">Format:%-H:%M</convert>
+			<convert type="ClockToText"/>
+			<!--convert type="ClockToText">Format:%-H:%M</convert-->
 		</widget>
 		<widget source="session.CurrentService" render="Label" position="c-109,105" size="219,31" zPosition="2" backgroundColor="transparent" foregroundColor="foreground" font="Regular;30" borderWidth="2" valign="top" halign="center">
 			<convert type="PliExtraInfo">ResolutionString</convert>
@@ -39,7 +40,8 @@
 		<widget source="ScreenPath" render="Label" position="30,5" size="1860,20" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;19" valign="center" halign="left"/>
 		<widget source="Title" render="Label" position="30,7" size="1860,75" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;36" valign="center" halign="left"/>
 		<widget source="global.CurrentTime" render="Label" position="1665,22" size="225,37" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;36" valign="center" halign="right">
-			<convert type="ClockToText">Format:%-H:%M</convert>
+			<convert type="ClockToText"/>
+			<!--convert type="ClockToText">Format:%-H:%M</convert-->
 		</widget>
 		<widget source="global.CurrentTime" render="Label" position="1440,52" size="450,37" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;24" valign="center" halign="right">
 			<convert type="ClockToText">Date</convert>
diff --git a/usr/share/enigma2/PLi-FullNightHD/skin.xml b/usr/share/enigma2/PLi-FullNightHD/skin.xml
index 7e6d0c3..657da21 100644
--- a/usr/share/enigma2/PLi-FullNightHD/skin.xml
+++ b/usr/share/enigma2/PLi-FullNightHD/skin.xml
@@ -95,6 +95,10 @@
 	</colors>
 
 	<parameters>
+    		<!-- Allow User Dates And Times -->
+    		<parameter name="AllowUserDatesAndTimes" value="1,1"/>
+    		<!-- Allow User Dates And Times Display -->
+    		<parameter name="AllowUserDatesAndTimesDisplay" value="1,1"/>
 		<parameter name="ConfigListSlider" value="22,3"/>
 		<parameter name="ChoicelistName" value="68,3,1000,31"/>
 		<parameter name="ExpandableListIcon" value="0,0,55,38"/>
diff --git a/usr/share/enigma2/PLi-FullNightHD/skin_templates.xml b/usr/share/enigma2/PLi-FullNightHD/skin_templates.xml
index 350a798..9895742 100644
--- a/usr/share/enigma2/PLi-FullNightHD/skin_templates.xml
+++ b/usr/share/enigma2/PLi-FullNightHD/skin_templates.xml
@@ -33,10 +33,12 @@
 		<widget source="ScreenPath" render="Label" position="30,5" size="1860,20" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;19" valign="center" halign="left"/>	
 		<widget source="Title" render="Label" position="30,7" size="1860,75" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;36" valign="center" halign="left"/>
 		<widget source="global.CurrentTime" render="Label" position="1665,22" size="225,37" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;36" valign="center" halign="right">
-			<convert type="ClockToText">Format:%-H:%M</convert>
+			<convert type="ClockToText"/>
+			<!--convert type="ClockToText">Format:%-H:%M</convert-->
 		</widget>
 		<widget source="global.CurrentTime" render="Label" position="1440,52" size="450,37" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;24" valign="center" halign="right">
-			<convert type="ClockToText">Date</convert>
+			<convert type="ClockToText">FullDate</convert>
+			<!--convert type="ClockToText">Date</convert-->
 		</widget>
 	</screen>
 
diff --git a/usr/share/enigma2/PLi-HD/skin.xml b/usr/share/enigma2/PLi-HD/skin.xml
index 3941674..e06eec2 100644
--- a/usr/share/enigma2/PLi-HD/skin.xml
+++ b/usr/share/enigma2/PLi-HD/skin.xml
@@ -26,6 +26,10 @@
   <!-- Parameters -->
 
   <parameters>
+    <!-- Allow User Dates And Times -->
+    <parameter name="AllowUserDatesAndTimes" value="1,1"/>
+    <!-- Allow User Dates And Times Display -->
+    <parameter name="AllowUserDatesAndTimesDisplay" value="1,1"/>
     <parameter name="AboutHddSplit" value="0"/>
     <parameter name="VirtualKeyBoard" value="45,45" />
     <parameter name="VirtualKeyBoardShiftColors" value="0x00ffffff,0x00ffffff,0x0000ffff,0x00ff00ff" />
diff --git a/usr/share/enigma2/PLi-HD/skin_templates.xml b/usr/share/enigma2/PLi-HD/skin_templates.xml
index a93b4a5..6f38d08 100644
--- a/usr/share/enigma2/PLi-HD/skin_templates.xml
+++ b/usr/share/enigma2/PLi-HD/skin_templates.xml
@@ -22,7 +22,8 @@
       <convert type="ConditionalShowHide"/>
     </widget>
     <widget source="global.CurrentTime" render="Label" borderWidth="2" position="1052,3" size="100,25" backgroundColor="transparent" noWrap="1" zPosition="1" foregroundColor="foreground" font="Regular;22" valign="center" halign="right">
-      <convert type="ClockToText">Format:%-H:%M</convert>
+      <convert type="ClockToText"/>
+      <!--convert type="ClockToText">Format:%-H:%M</convert-->
     </widget>
     <widget source="session.CurrentService" render="Label" position="c-73,70" size="146,21" zPosition="2" backgroundColor="transparent" foregroundColor="foreground" font="Regular;20" borderWidth="2" valign="top" halign="center">
       <convert type="PliExtraInfo">ResolutionString</convert>
@@ -36,7 +37,8 @@
     <widget source="ScreenPath" render="Label" position="85,30" size="1085,14" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;12" valign="center" halign="left"/>
     <widget source="Title" render="Label" position="85,30" size="1085,55" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;24" valign="center" halign="left" />
     <widget source="global.CurrentTime" render="Label" position="1070,30" size="150,55" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;24" valign="center" halign="right">
-      <convert type="ClockToText">Format:%-H:%M</convert>
+      <convert type="ClockToText"/>
+      <!--convert type="ClockToText">Format:%-H:%M</convert-->
     </widget>
     <widget source="global.CurrentTime" render="Label" position="920,50" size="300,55" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;16" valign="center" halign="right">
       <convert type="ClockToText">Date</convert>
diff --git a/usr/share/enigma2/PLi-HD1/skin.xml b/usr/share/enigma2/PLi-HD1/skin.xml
index 7403579..215a981 100644
--- a/usr/share/enigma2/PLi-HD1/skin.xml
+++ b/usr/share/enigma2/PLi-HD1/skin.xml
@@ -71,6 +71,10 @@
   </colors>
 
   <parameters>
+    <!-- Allow User Dates And Times -->
+    <parameter name="AllowUserDatesAndTimes" value="1,1"/>
+    <!-- Allow User Dates And Times Display -->
+    <parameter name="AllowUserDatesAndTimesDisplay" value="1,1"/>
     <parameter name="AboutHddSplit" value="1"/>
     <parameter name="SelectionListDescr" value="34,2,700,30"/>
     <parameter name="SelectionListLock" value="4,1,25,24"/>
diff --git a/usr/share/enigma2/PLi-HD1/skin_templates.xml b/usr/share/enigma2/PLi-HD1/skin_templates.xml
index 77fb289..70b02e1 100644
--- a/usr/share/enigma2/PLi-HD1/skin_templates.xml
+++ b/usr/share/enigma2/PLi-HD1/skin_templates.xml
@@ -22,7 +22,8 @@
       <convert type="ConditionalShowHide"/>
     </widget>
     <widget source="global.CurrentTime" render="Label" borderWidth="2" position="952,3" size="100,25" backgroundColor="transparent" noWrap="1" zPosition="1" foregroundColor="foreground" font="Regular;22" valign="center" halign="right">
-      <convert type="ClockToText">Format:%-H:%M</convert>
+      <convert type="ClockToText"/>
+      <!--convert type="ClockToText">Format:%-H:%M</convert-->
     </widget>
     <widget source="session.CurrentService" render="Label" position="c-73,70" size="146,21" zPosition="2" backgroundColor="transparent" foregroundColor="foreground" font="Regular;20" borderWidth="2" valign="top" halign="center">
       <convert type="PliExtraInfo">ResolutionString</convert>
@@ -36,7 +37,8 @@
     <widget source="ScreenPath" render="Label" position="20,3" size="1240,14" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;13" valign="center" halign="left"/>
     <widget source="Title" render="Label" position="20,5" size="1240,50" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;24" valign="center" halign="left"/>
     <widget source="global.CurrentTime" render="Label" position="1110,15" size="150,25" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;24" valign="center" halign="right">
-      <convert type="ClockToText">Format:%-H:%M</convert>
+      <convert type="ClockToText"/>
+      <!--convert type="ClockToText">Format:%-H:%M</convert-->
     </widget>
     <widget source="global.CurrentTime" render="Label" position="960,35" size="300,25" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;16" valign="center" halign="right">
       <convert type="ClockToText">Date</convert>
diff --git a/usr/share/enigma2/PLi-HD2/skin.xml b/usr/share/enigma2/PLi-HD2/skin.xml
index 116311a..22e9371 100644
--- a/usr/share/enigma2/PLi-HD2/skin.xml
+++ b/usr/share/enigma2/PLi-HD2/skin.xml
@@ -26,6 +26,10 @@
   <!-- Parameters -->
 
   <parameters>
+    <!-- Allow User Dates And Times -->
+    <parameter name="AllowUserDatesAndTimes" value="1,1"/>
+    <!-- Allow User Dates And Times Display -->
+    <parameter name="AllowUserDatesAndTimesDisplay" value="1,1"/>
     <parameter name="AboutHddSplit" value="0"/>
     <parameter name="VirtualKeyBoard" value="45,45" />
     <parameter name="VirtualKeyBoardShiftColors" value="0x00ffffff,0x00ffffff,0x0000ffff,0x00ff00ff" />
diff --git a/usr/share/enigma2/PLi-HD2/skin_templates.xml b/usr/share/enigma2/PLi-HD2/skin_templates.xml
index 84c0c56..d2cccd9 100644
--- a/usr/share/enigma2/PLi-HD2/skin_templates.xml
+++ b/usr/share/enigma2/PLi-HD2/skin_templates.xml
@@ -22,7 +22,8 @@
       <convert type="ConditionalShowHide"/>
     </widget>
     <widget source="global.CurrentTime" render="Label" borderWidth="2" position="1052,3" size="100,25" backgroundColor="transparent" noWrap="1" zPosition="1" foregroundColor="foreground" font="Regular;22" valign="center" halign="right">
-      <convert type="ClockToText">Format:%-H:%M</convert>
+      <convert type="ClockToText"/>
+      <!--convert type="ClockToText">Format:%-H:%M</convert-->
     </widget>
     <widget source="session.CurrentService" render="Label" position="c-73,70" size="146,21" zPosition="2" backgroundColor="transparent" foregroundColor="foreground" font="Regular;20" borderWidth="2" valign="top" halign="center">
       <convert type="PliExtraInfo">ResolutionString</convert>
@@ -36,7 +37,8 @@
     <widget source="ScreenPath" render="Label" position="40,3" size="1200,14" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;13" valign="center" halign="left"/>
     <widget source="Title" render="Label" position="40,5" size="1200,50" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;24" valign="center" halign="left" />
     <widget source="global.CurrentTime" render="Label" position="1090,15" size="150,25" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;24" valign="center" halign="right">
-      <convert type="ClockToText">Format:%-H:%M</convert>
+      <convert type="ClockToText"/>
+      <!--convert type="ClockToText">Format:%-H:%M</convert-->
     </widget>
     <widget source="global.CurrentTime" render="Label" position="940,35" size="300,25" backgroundColor="secondBG" transparent="1" zPosition="1" font="Regular;16" valign="center" halign="right">
       <convert type="ClockToText">Date</convert>
-- 
2.32.0

